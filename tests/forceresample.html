<!DOCTYPE html>
<html>
	<head>
		<script src="../sink.js"></script>
		<script>
(function(){

var	dev, phase = 0;

window.onload	= function(){
Sink.sinks.webkit.forceSampleRate = true;
	dev	= Sink(function(buffer, channelCount){
		var i, n;
		for (i=0; i<buffer.length; i+=channelCount){
			phase		= (phase + 440 / dev.sampleRate / 2) % 1;
			for (n=0; n<channelCount; n++){
				buffer[i+n]	= Math.sin(phase * Math.PI * 2) * 0.5;
			}
		}
	}, null, null, 11050);
console.log(dev);
};

}());

		</script>
	</head>
	<body>
	</body>
</html>
